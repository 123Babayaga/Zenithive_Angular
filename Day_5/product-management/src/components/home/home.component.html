<div class="loader-main" *ngIf="loading$ | async; else productList">
  <div class="loader"></div>
</div>

<ng-template #productList>
  <div *ngIf="error$ | async; else products">
    Sorry.. Something went wrong.. {{ error$ }}
  </div>

  <ng-template #products>
    <div class="product-cards-main">
      <ng-container *ngIf="products$ | async as products">
        <ng-container *ngIf="products.length > 0; else noProducts">
          <app-product-cards
            *ngFor="let product of products"
            [product]="product"
          ></app-product-cards>
        </ng-container>
      </ng-container>

      <ng-template #noProducts>
        <p>No products match your filter.</p>
      </ng-template>
    </div>
  </ng-template>
</ng-template>
