<div class="task-item" [ngClass]="{'editing': isEditing()}">
  <!-- Display Mode -->
  <div *ngIf="!isEditing()" class="task-display">
    <div class="task-header">
      <h3>{{task.title}}</h3>
      <div class="task-tags">
        <span class="task-status" [ngClass]="getStatusClass()">{{task.status}}</span>
        <span class="task-priority" [ngClass]="getPriorityClass()">{{task.priority}}</span>
      </div>
    </div>
    
    <p class="task-description">{{task.description}}</p>
    
    <div class="task-actions">
      <div class="status-actions">
        <button class="status-btn" (click)="updateStatus('pending')" [disabled]="task.status === 'pending'">Mark Pending</button>
        <button class="status-btn" (click)="updateStatus('in-progress')" [disabled]="task.status === 'in-progress'">Mark In Progress</button>
        <button class="status-btn" (click)="updateStatus('completed')" [disabled]="task.status === 'completed'">Mark Completed</button>
      </div>
      <div class="task-control-actions">
        <button class="edit-btn" (click)="startEditing()">Edit</button>
        <button class="delete-btn" (click)="onDeleteTask()">Delete</button>
      </div>
    </div>
  </div>
  
  <!-- Edit Mode -->
  <div *ngIf="isEditing()" class="task-edit-form">
    <div class="form-group">
      <label for="title">Title:</label>
      <input type="text" id="title" [(ngModel)]="editedTask()!.title" required>
    </div>
    
    <div class="form-group">
      <label for="description">Description:</label>
      <textarea id="description" [(ngModel)]="editedTask()!.description" rows="3"></textarea>
    </div>
    
    <div class="form-group">
      <label>Priority:</label>
      <div class="radio-group">
        <label>
          <input type="radio" name="priority" [(ngModel)]="editedTask()!.priority" value="low"> Low
        </label>
        <label>
          <input type="radio" name="priority" [(ngModel)]="editedTask()!.priority" value="medium"> Medium
        </label>
        <label>
          <input type="radio" name="priority" [(ngModel)]="editedTask()!.priority" value="high"> High
        </label>
      </div>
    </div>
    
    <div class="form-group">
      <label>Status:</label>
      <div class="radio-group">
        <label>
          <input type="radio" name="status" [(ngModel)]="editedTask()!.status" value="pending"> Pending
        </label>
        <label>
          <input type="radio" name="status" [(ngModel)]="editedTask()!.status" value="in-progress"> In Progress
        </label>
        <label>
          <input type="radio" name="status" [(ngModel)]="editedTask()!.status" value="completed"> Completed
        </label>
      </div>
    </div>
    
    <div class="form-actions">
      <button class="cancel-btn" (click)="cancelEditing()">Cancel</button>
      <button class="save-btn" (click)="saveTask()">Save Changes</button>
    </div>
  </div>
</div>